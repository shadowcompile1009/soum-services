<!-- Begin page -->
<div id="layout-wrapper" [ngClass]="{'sidebar-enable vertical-collpsed': sidePanelEnabled}">

  <header id="page-topbar">
    <div class="navbar-header">
      <div class="d-flex">
        <!-- LOGO -->
        <div class="navbar-brand-box">
          <a class="logo logo-dark">
            <span class="logo-sm">
              <!-- <img src="assets/images/logo-sm-dark.png" alt="" height="22"> -->
            </span>
            <span class="logo-lg">
              <!-- <img src="assets/images/logo-dark.png" alt="" height="20"> -->
            </span>
          </a>

          <a class="logo logo-light">
            <span class="logo-sm">
              <img src="assets/images/favicon.png" alt="" height="22">
            </span>
            <span class="logo-lg">
              <img src="assets/images/logo-light.png" alt="" height="50" class="logo-en">
              <img src="assets/images/logo-light-ar.png" alt="" height="50" class="logo-ar">
            </span>
          </a>
        </div>

        <button type="button" (click)="enableSidePanel()" class="btn btn-sm px-3 font-size-24 header-item waves-effect"
          id="vertical-menu-btn">
          <i class="ri-menu-2-line align-middle"></i>
        </button>

        <!-- App Search-->
        <!-- <form class="app-search d-none d-lg-block">
          <div class="position-relative">
            <input type="text" class="form-control" [placeholder]="'admin.searchPlaceholder' | translate">
            <span class="ri-search-line"></span>
          </div>
        </form> -->


      </div>

      <div class="d-flex">

        <!-- <div class="dropdown d-inline-block d-lg-none ml-2">
          <button type="button" class="btn header-item noti-icon waves-effect" id="page-header-search-dropdown"
            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="ri-search-line"></i>
          </button>
          <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right p-0"
            aria-labelledby="page-header-search-dropdown">

            <form class="p-3">
              <div class="form-group m-0">
                <div class="input-group">
                  <input type="text" class="form-control" [placeholder]="'admin.searchPlaceholder' | translate">
                  <div class="input-group-append">
                    <button class="btn btn-primary" type="submit"><i class="ri-search-line"></i></button>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div> -->


        <div class="dropdown d-none d-lg-inline-block ml-1" style="display: none !important;">
          <button type="button" class="btn header-item noti-icon waves-effect" data-toggle="fullscreen">
            <i class="ri-fullscreen-line"></i>
          </button>
        </div>
        <div class="dropdown d-inline-block user-dropdown">
          <button type="button" class="btn header-item waves-effect" id="page-header-user-dropdown"
            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <span>Region: {{regionSettings.region}} </span>
            <span>| Currency: {{regionSettings.currency}} </span>
            <img class="rounded-circle header-profile-user"
              [src]="userDetails?.profilePic|| 'assets/images/users/admin.jpg'" alt="Header Avatar">
            <span class="d-none d-xl-inline-block ml-1">{{userDetails?.name}}</span>
       
            
            <i class="mdi mdi-chevron-down d-none d-xl-inline-block"></i>
          </button>
          
          <div class="dropdown-menu dropdown-menu-right">
            <!-- item-->
            <a *ngIf="!userDetails?.isBetaAdmin" class="dropdown-item" (click)="navigateTo({route: '/admin/administrators'})"><i
                class="ri-user-add-line align-middle mr-1"></i> {{'adminDropdown.menuOne' | translate}}</a>
            <!-- <a class="dropdown-item" (click)="navigateTo({route: '/forgot-password'})"><i
                        class="mdi mdi-lock-reset align-middle mr-1"></i> Forgot Password</a> -->
            <a class="dropdown-item" (click)="openChangePasswordModal()"><i
                class="mdi mdi-lock-reset align-middle mr-1"></i>{{'adminDropdown.changePassword' | translate}}</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item text-danger" (click)="logout()"><i
                class="ri-shut-down-line align-middle mr-1 text-danger"></i> {{'adminDropdown.menuTwo' | translate}}</a>
          </div>
        </div>

        <!-- <div class="dropdown d-inline-block">
          <button type="button" class="btn header-item noti-icon right-bar-toggle waves-effect" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">
            <i class="ri-settings-2-line"></i>
          </button>
          <div class="dropdown-menu dropdown-menu-right p-2">
            <div class="custom-control custom-switch mb-3">
              <input type="checkbox" (change)="onLanguageChange('en')" [(ngModel)]="english"
                class="custom-control-input theme-choice" id="light-mode-switch">
              <label class="custom-control-label" for="light-mode-switch">
                {{'admin.englishMode' | translate}}
              </label>
            </div>
            <div class="custom-control custom-switch mb-3">
              <input type="checkbox" (change)="onLanguageChange('ar')" [(ngModel)]="arabic"
                class="custom-control-input theme-choice" id="dark-mode-switch">
              <label class="custom-control-label" for="dark-mode-switch">
                {{'admin.arabicMode' | translate}}
              </label>
            </div>

          </div>
        </div> -->

      </div>
    </div>
  </header>
  <div class="modal fade change_password show" id="change-password" tabindex="-1" role="dialog"
    aria-labelledby="mySmallModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title mt-0">{{'adminDropdown.changePassword' | translate}}</h5>
          <button type="button" class="close" (click)="closeModal('change-password')">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">
          <form class="form-horizontal" [formGroup]="changePasswordForm">
            <div class="form-group auth-form-group-custom mb-4">
              <i class="ri-lock-2-line auti-custom-input-icon"></i>
              <label for="userpassword">{{'changePasswordAdmin.changePassword' | translate}}</label>
              <input type="password" formControlName="oldPassword" class="form-control" id="OldPassword"
                [placeholder]="'changePasswordAdmin.enterChangePassword' | translate">
              <p
                *ngIf="changePasswordForm?.controls['oldPassword']?.value &&  changePasswordForm?.controls['oldPassword']?.invalid">
                Invalid Password!
              </p>
            </div>

            <div class="form-group auth-form-group-custom mb-4">
              <i class="ri-lock-2-line auti-custom-input-icon"></i>
              <label for="userNpassword">{{'changePasswordAdmin.newPassword' | translate}}</label>
              <input type="password" formControlName="newPassword" class="form-control" id="userNpassword"
                [placeholder]="'changePasswordAdmin.enterNewPassword' | translate">
              <p
                *ngIf="changePasswordForm?.controls['newPassword']?.value &&  changePasswordForm?.controls['newPassword']?.invalid">
                Invalid Password!
              </p>
            </div>
            <div class="form-group auth-form-group-custom mb-4">
              <i class="ri-lock-2-line auti-custom-input-icon"></i>
              <label for="userpassword">{{'changePasswordAdmin.confirmPassword' | translate}}</label>
              <input type="password" formControlName="confirmPassword" class="form-control" id="userpassword"
                [placeholder]="'changePasswordAdmin.enterConfirmPassword' | translate">
              <p
                *ngIf="changePasswordForm?.controls['confirmPassword']?.value &&  (changePasswordForm?.controls['newPassword']?.value !== changePasswordForm?.controls['confirmPassword']?.value)">
                Password does not match!
              </p>
            </div>

            <div class="mt-4">
              <button class="btn btn-primary w-md waves-effect waves-light"
                [disabled]="changePasswordForm?.invalid || (changePasswordForm?.controls['newPassword']?.value !== changePasswordForm?.controls['confirmPassword']?.value)"
                type="submit" (click)="changePassword()">Save</button>
            </div>
          </form>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div>
  <!-- ========== Left Sidebar Start ========== -->
  <div class="vertical-menu">

    <div data-simplebar class="h-100">

      <!--- Sidemenu -->
      <div id="sidebar-menu">
        <!-- Left Menu Start -->
        <ul class="metismenu list-unstyled" id="side-menu">
          <li class="menu-title">
            {{'admin.menu' | translate}}
          </li>

          <li *ngFor="let menu of menus" [ngClass]="{'active': menu?.route == selectedMenu?.route}">
            <a (click)="navigateTo(menu)" class="waves-effect">
              <i [class]="menu?.icon"></i>
              <span>{{menu?.name | translate}}</span>
            </a>
          </li>
        </ul>
      </div>
      <!-- Sidebar -->
    </div>
  </div>
  <!-- Left Sidebar End -->

  <!-- ============================================================== -->
  <!-- Start right Content here -->
  <!-- ============================================================== -->

  <div class="main-content">
    <!-- language class -->
    <router-outlet class=""></router-outlet>
    <footer class="footer">
      <div class="container-fluid">
        <div class="row">
          <div class="col-sm-6">
            <script>
              document.write(new Date().getFullYear())

            </script> © {{'footer.copyright' | translate}}
          </div>
          <div class="col-sm-6">

          </div>
        </div>
      </div>
    </footer>
  </div>
  <!-- end main content-->

</div>
<!-- END layout-wrapper -->
