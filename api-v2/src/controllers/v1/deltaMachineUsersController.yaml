/v1/dm-users/:
  get:
    tags:
      - DeltaMachineUsers
    summary: Get all DM users information
    description: Get all user in DM
    operationId: viewUsers
    parameters:
      - in: header
        name: token
        required: true
        schema:
          type: string
          example: >-
            eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYxMmRkYjE2MDg5ZDc1MjhkM2E2ZmEyMiIsImlhdCI6MTYzMTAwNzM4NSwiZXhwIjoxNjMzNTk5Mzg1fQ.5byciTrTEgINRZmJFfVJew_btr6kphN9qEiOWeyeM1U
      - in: header
        name: client-id
        required: true
        schema:
          type: string
          example: admin-web
    responses:
      '200':
        description: successful operation
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/v1GetDMOListUserResponse'
            examples:
              successExample:
                $ref: '#/components/examples/v1GetDMOListUserResponse'
  post:
    tags:
      - DeltaMachineUsers
    summary: Create new DM user
    description: Create new DM user
    operationId: addNewUser
    parameters:
      - in: header
        name: token
        required: false
        schema:
          type: string
          example: >-
            eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYxMmRkYjE2MDg5ZDc1MjhkM2E2ZmEyMiIsImlhdCI6MTYzMTAwNzM4NSwiZXhwIjoxNjMzNTk5Mzg1fQ.5byciTrTEgINRZmJFfVJew_btr6kphN9qEiOWeyeM1U
      - in: header
        name: client-id
        required: false
        schema:
          type: string
          example: admin-web
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/definitions/CreateDMUser'
    responses:
      '200':
        description: successful operation
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/v1PostDMUResponse'
            examples:
              successExample:
                $ref: '#/components/examples/v1PostDMUResponse'
/v1/dm-users/{userId}:
  delete:
    tags:
      - DeltaMachineUsers
    summary: Delete DM user
    description: Allow agent to delete DM user
    operationId: deleteUser
    parameters:
      - in: header
        name: token
        required: false
        schema:
          type: string
          example: >-
            eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE2NjczOTY2MzEsImV4cGlyZXNJbiI6NDMyMCwiZXhwaXJ5RGF0ZSI6IjIwMjItMTEtMDJUMTQ6NTY6MjErMDA6MDAiLCJpcCI6Ijo6ZmZmZjoxNzIuMjEuMTMuMTgxIiwidXNlcklkIjoiNjM2MjczZWQ0ZTI4YmYwMDNhYzQwY2NlIn0.m79IIfyARjiGdvLnBqJIQJ-MAzugcnLkrUGRQz3VJ14
      - in: path
        name: userId
        description: 'User id'
        required: true
        schema:
          type: string
          example: '634fc09f0a9edf003a38ac5d'
    responses:
      '200':
        description: successful operation
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/v1DeleteDMUResponse'
            examples:
              successExample:
                $ref: '#/components/examples/v1DeleteDMUResponse'
/v1/dm-users/{userId}/role:
  put:
    tags:
      - DeltaMachineUsers
    summary: Update DM user role
    description: Update DM user role
    operationId: updateUserRole
    parameters:
      - in: header
        name: token
        required: true
        schema:
          type: string
          example: >-
            eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYxMmRkYjE2MDg5ZDc1MjhkM2E2ZmEyMiIsImlhdCI6MTYzMTAwNzM4NSwiZXhwIjoxNjMzNTk5Mzg1fQ.5byciTrTEgINRZmJFfVJew_btr6kphN9qEiOWeyeM1U
      - in: header
        name: client-id
        required: false
        schema:
          type: string
          example: admin-web
      - in: path
        name: userId
        description: 'User id'
        required: true
        schema:
          type: string
          example: '634fc09f0a9edf003a38ac5d'
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/definitions/updateUserRole'
    responses:
      '200':
        description: successful operation
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/v1PostDMUResponse'
            examples:
              successExample:
                $ref: '#/components/examples/v1PostDMUResponse'
/v1/dm-users/roles:
  get:
    tags:
      - DeltaMachineUsers
    summary: Get all roles
    description: Get all roles
    operationId: getRoles
    parameters:
      - in: header
        name: token
        required: true
        schema:
          type: string
          example: >-
            eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYxMmRkYjE2MDg5ZDc1MjhkM2E2ZmEyMiIsImlhdCI6MTYzMTAwNzM4NSwiZXhwIjoxNjMzNTk5Mzg1fQ.5byciTrTEgINRZmJFfVJew_btr6kphN9qEiOWeyeM1U
      - in: header
        name: client-id
        required: true
        schema:
          type: string
          example: admin-web
    responses:
      '200':
        description: successful operation
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/v1GetDMRolesResponse'
            examples:
              successExample:
                $ref: '#/components/examples/v1GetDMRolesResponse'