/v1/question/{questionId}:
  get:
    tags:
      - Questionnaire
    summary: Get Question detail with answers/ choices
    description: >-
      Get Question with all the details: an array of answers included options
      if available, an array of choices

    operationId: getQuestion
    parameters:
      - in: header
        name: token
        required: true
        schema:
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9
      - in: header
        name: client-id
        required: false
        schema:
          type: string
          example: admin-web
      - in: path
        name: questionId
        description: The valid question id
        required: true
        schema:
          type: string
          example: 6134cf1a724aa3175844a7d0
    requestBody: {}
    responses:
      "200":
        description: Get Question success
        content:
          application/json:
            examples:
              Get successful:
                $ref: "#/components/examples/v1GetQuesionSuccess"
      "404":
        description: Not found question
        content:
          application/json:
            examples:
              notFound:
                $ref: "#/components/examples/v1QuestionNotFound"
/v1/question/{questionId}/answer:
  post:
    tags:
      - Questionnaire
    summary: >-
      Add answer for question type yes-no-with-options and
      yes-no-without-options
    description: >-
      You can add many answers to a `yes-no-without-options` or
      `yes-no-with-options`. Each answer can have options attached to. Note
      that the numbers of options attached to an answer is not persisted. The
      API doesn't support to add/ remove option of an answer in this version.
      We will provide another API endpoint to support this feature in the next
      releases. That means you need to send all of the options of an answer in
      this one API call. This endpoint required admin token access,not the
      public site's token

    operationId: addAnswer
    parameters:
      - in: header
        name: token
        required: true
        schema:
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9
      - in: header
        name: client-id
        required: false
        schema:
          type: string
          example: admin-web
      - in: path
        name: questionId
        description: The valid question id type yes-no
        required: true
        schema:
          type: string
          example: 6131fd5139ee4264edffca3b
    requestBody:
      content:
        application/json:
          schema:
            type: object
            properties:
              answer_en:
                type: string
                example: "Yes"
              answer_ar:
                type: string
                example: نعم
              score:
                type: number
                example: 0
              icon:
                type: string
              sub_choices:
                type: array
                items:
                  type: object
                  properties:
                    option_en:
                      type: string
                      example: Visable/black/dead pixels
                    option_ar:
                      type: string
                      example: بكسل مرئي / أسود / ميت
                    score:
                      type: number
                      example: -2.5
                    icon:
                      type: string
    responses:
      "200":
        description: successful operation
        content:
          application/json:
            examples:
              addAnswerSuccess:
                $ref: "#/components/examples/v1CreateAnswerSuccess"
      "400":
        description: questionNotYesNoType
        content:
          application/json:
            examples:
              addAnswerSuccess:
                $ref: "#/components/examples/v1CreateAnswerNotYesNoType"
/v1/question/{questionId}/answer/{answerId}:
  put:
    tags:
      - Questionnaire
    summary: Update answer of question
    description: >-
      You need to provide valid question id and relevant answer id. In order
      to update option of the answer, you will need to provide in an array
      with valid choice_ids. It will return error if question or answer id is
      not found. This endpoint required admin token access,not the public
      site's token

    operationId: updateAnswer
    parameters:
      - in: header
        name: token
        required: true
        schema:
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9
      - in: header
        name: client-id
        required: false
        schema:
          type: string
          example: admin-web
      - in: path
        name: questionId
        description: The valid question id with yes-no type
        required: true
        schema:
          type: string
          example: 6131fd5139ee4264edffca3b
      - in: path
        name: answerId
        description: The valid answer id
        required: true
        schema:
          type: string
          example: 61337eac191eafc7759bac84
    requestBody:
      content:
        application/json:
          schema:
            type: object
            properties:
              answer_en:
                type: string
                example: "Yes"
              answer_ar:
                type: string
                example: نعم
              score:
                type: number
                example: 0
              icon:
                type: string
              sub_choices:
                type: array
                items:
                  type: object
                  properties:
                    _id:
                      type: string
                      example: 61337ead191eafc7759bac85
                    option_en:
                      type: string
                      example: TEST  Visable/black/dead pixels
                    option_ar:
                      type: string
                      example: بكسل مرئي / أسود / ميت
                    score:
                      type: number
                      example: -3
                    icon:
                      type: string
                      example: https://icontest.com
    responses:
      "200":
        description: successful operation
        content:
          application/json:
            examples:
              updateAnswerSuccessful:
                $ref: "#/components/examples/v1UpdateAnswerSuccess"
      "400":
        description: Invalid question or answer id
        content:
          application/json:
            examples:
              updateAnswerNotFoundQuestion:
                $ref: "#/components/examples/v1UpdateAnswerNotFoundQuestion"
              updateAnswerNotFoundAnswer:
                $ref: "#/components/examples/v1UpdateAnswerNotFoundAnswer"
  delete:
    tags:
      - Questionnaire
    summary: Remove answer with choices of question
    description: >-
      Remove answer with choices. This endpoint required admin token
      access,not the public site's token

    operationId: deleteAnswer
    parameters:
      - in: header
        name: token
        required: true
        schema:
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9
      - in: header
        name: client-id
        required: false
        schema:
          type: string
          example: admin-web
      - in: path
        name: questionId
        description: The valid question id
        required: true
        schema:
          type: string
          example: 6131fd5139ee4264edffca3b
      - in: path
        name: answerId
        description: The valid answer id
        required: true
        schema:
          type: string
          example: 613479409441ea003036b426
    requestBody: {}
    responses:
      "200":
        description: Remove answer successful
        content:
          application/json:
            examples:
              successExample:
                $ref: "#/components/examples/v1RemoveAnswerSuccess"
      "400":
        description: Not found Question or Answer
        content:
          application/json:
            examples:
              notFoundQuestion:
                $ref: "#/components/examples/v1RemoveAnswerNotFoundQuestion"
              notFoundAnswer:
                $ref: "#/components/examples/v1RemoveAnswerNotFoundAnswer"
/v1/question/{questionId}/choice:
  post:
    tags:
      - Questionnaire
    summary: Add choice options for as question type choice
    description: >-
      Includes list of choices. The API makes sure list of choice available
      for dropdown and mcqs question. This endpoint required admin token
      access,not the public site's token

    operationId: addChoice
    parameters:
      - in: header
        name: token
        required: true
        schema:
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9
      - in: header
        name: client-id
        required: false
        schema:
          type: string
          example: admin-web
      - in: path
        name: questionId
        description: The valid question id type choice
        required: true
        schema:
          type: string
          example: 6131fd5139ee4264edffca3b
    requestBody:
      content:
        application/json:
          schema:
            type: object
            properties:
              option_en:
                type: string
                example: 100-95 %
              option_ar:
                type: string
                example: 100-95 %
              score:
                type: number
                example: 0
              icon:
                type: string
    responses:
      "200":
        description: Add choice succcessful
        content:
          application/json:
            examples:
              addChoiceSuccess:
                $ref: "#/components/examples/v1AddChoiceSuccessful"
      "400":
        description: Cannot add choice for yes-no question
        content:
          application/json:
            examples:
              cannotAddChoice:
                $ref: "#/components/examples/v1AddChoiceNotForYesNoQuestion"
/v1/question/{questionId}/choice/{choiceId}:
  put:
    tags:
      - Questionnaire
    summary: Update choice option of question
    description: >-
      Update choice option of question. This endpoint required admin token
      access,not the public site's token

    operationId: updateChoice
    parameters:
      - in: header
        name: token
        required: true
        schema:
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9
      - in: header
        name: client-id
        required: false
        schema:
          type: string
          example: admin-web
      - in: path
        name: questionId
        description: The valid question id with choice-type
        required: true
        schema:
          type: string
          example: 6131fd5139ee4264edffca3b
      - in: path
        name: choiceId
        description: The valid choice id
        required: true
        schema:
          type: string
          example: 61337eac191eafc7759bac84
    requestBody:
      content:
        application/json:
          schema:
            type: object
            properties:
              option_en:
                type: string
                example: 99-90 5
              option_ar:
                type: string
                example: 99-90%
              score:
                type: number
                example: -3
              icon:
                type: string
                example: https://icontest.com
    responses:
      "200":
        description: Update choice Successful
        content:
          application/json:
            examples:
              updateChoiceSuccessful:
                $ref: "#/components/examples/v1UpdateChoiceSuccessful"
      "400":
        description: Not found question or choice
        content:
          application/json:
            examples:
              notFoundQuestion:
                $ref: "#/components/examples/v1UpdateChoiceNotFoundQuestion"
              notFoundChoice:
                $ref: "#/components/examples/v1UpdateChoiceNotFoundChoice"
  delete:
    tags:
      - Questionnaire
    summary: Remove choice option of question
    description: Remove choice option

    operationId: deleteChoice
    parameters:
      - in: header
        name: token
        required: true
        schema:
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9
      - in: header
        name: client-id
        required: false
        schema:
          type: string
          example: admin-web
      - in: path
        name: questionId
        description: The valid question id
        required: true
        schema:
          type: string
          example: 6131fd5139ee4264edffca3b
      - in: path
        name: choiceId
        description: The valid choice id
        required: true
        schema:
          type: string
          example: 613479409441ea003036b426
    requestBody: {}
    responses:
      "200":
        description: successful operation
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/v1DeleteQuestionResponse"
            examples:
              successExample:
                $ref: "#/components/examples/v1DeleteQuestionResponse"
